<!-- <nav class="page-breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a routerLink=".">Wallet</a></li>
      <li class="breadcrumb-item active" aria-current="page">List</li>
    </ol>
  </nav> -->

<div class="row">
  <div class="col-md-12 stretch-card">
    <div class="card">
      <div class="card-body">
        <h4 class="card-title">Create A Game

          <button class="btn btn-warning export" type="submit" (click)="createGame()">
            Create a game
          </button>
          <button class="btn btn-warning export2" type="submit" (click)="export()"> <i class="mdi mdi-download"></i>
            Export
          </button>
        </h4>

<hr>
        <div class="table-responsive" style="padding-top: 20px;">
          <table class="table ">
            <thead>
              <tr class="tableheading">
                <th>Id</th>
                <th>Game Name <div class="ascending1"><img src="../../../../assets/images/Up.png"
                      style="width: 9px !important; margin-bottom: 3px !important; cursor: pointer;" alt=""
                      (click)="ascending1()">
                    <img src="../../../../assets/images/Down.png" alt="" style="width: 9px !important; cursor: pointer;"
                      (click)="ascending2()">
                  </div>
                </th>
                <th>Subject<div class="ascending2"><img src="../../../../assets/images/Up.png"
                      style="width: 9px !important; margin-bottom: 3px !important; cursor: pointer;" alt=""
                      (click)="ascending3()">
                    <img src="../../../../assets/images/Down.png" alt="" style="width: 9px !important; cursor: pointer;"
                      (click)="ascending4()">
                  </div>
                </th>
                <th>Template<div class="ascending3"><img src="../../../../assets/images/Up.png"
                      style="width: 9px !important; margin-bottom: 3px !important; cursor: pointer;" alt=""
                      (click)="ascending5()">
                    <img src="../../../../assets/images/Down.png" alt="" style="width: 9px !important; cursor: pointer;"
                      (click)="ascending6()">
                  </div>
                </th>
                <th>Tags</th>
                <th>Total gameplays<div class="ascending4"><img src="../../../../assets/images/Up.png"
                      style="width: 9px !important; margin-bottom: 3px !important; cursor: pointer;" alt=""
                      (click)="ascending7()">
                    <img src="../../../../assets/images/Down.png" alt="" style="width: 9px !important; cursor: pointer;"
                      (click)="ascending8()">
                  </div>
                </th>
                <th>Rating<div class="ascending5"><img src="../../../../assets/images/Up.png"
                      style="width: 9px !important; margin-bottom: 3px !important; cursor: pointer;" alt=""
                      (click)="ascending9()">
                    <img src="../../../../assets/images/Down.png" alt="" style="width: 9px !important; cursor: pointer;"
                      (click)="ascending10()">
                  </div>
                </th>
                <th>Created on</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of createGameList  | paginate
                  : {itemsPerPage: this.filterObj.limit, currentPage: this.filterObj.p,totalItems: copyArr };">

                <td>{{item.id}}</td>
                <td><a style="color: black;" href="{{item.gameUrl}}" target="_blank">{{item.gameName}}</a></td>
                <td>{{item.subject}}</td>
                <td>{{ item.templates }}</td>
                <td> <span *ngFor="let tag of item.tags">
                  <p>{{ tag.tags }}</p>
                </span></td>

                <td>{{item.gamePlays}}</td>
                <td>{{item.rating}}</td>
                <td>{{item.createdOn | date : 'medium'}}</td>
                <td>
                  <a>
                    <div class="row iconWidth">
                      <div class="col-md-3 icon">
                        <i class="mdi mdi-border-color eye" [routerLink]="['/game/edit', item.id]"></i>
                      </div>
                      <div class="col-md-3 icon">
                        <i class="mdi mdi-eye eye" (click)="openBasicModal(basicModal)" (click)="getGameViewData(item.id)"></i>
                      </div>
                      <div class="col-md-3 icon ">
                        <i class="mdi mdi-delete eye" (click)="getGameDeleteData(item.id)"></i>
                      </div>
                    </div>
                  </a>
                </td>
              </tr>
            </tbody>
          </table>
          <div class="mt-20">
            <pagination-controls (pageChange)="pageChangeEvent($event)"></pagination-controls>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<ng-template #basicModal let-modal>
  <div class="modal-header">
    <h5 class="modal-title" id="exampleModalLabel">View Admin Game</h5>
    <button type="button" class="close" (click)="modal.close('by: close icon')" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="row">
      <div class="col-sm-12 gameCreated">
        <h6>Game Name : <span class="gameViewColor"><a style="color: #7E7E7E;" href="{{gameUrl}}" target="_blank">{{gameName}}</a> </span></h6>
      </div>
      <div class="col-sm-12 gameCreated">
        <h6>Subject :  <span class="gameViewColor">{{subject}} </span></h6>
      </div>
      <div class="col-sm-12 gameCreated">
        <h6>Template : <span class="gameViewColor">{{templates}} </span></h6>
      </div>
      <div class="col-sm-12 gameCreated">
        <h6>Tags : <span class="gameViewColor" *ngFor="let list of tags"> 
          {{list.tags}},
        </span></h6>
      </div>
      
      <div class="col-sm-12 gameCreated">
        <h6>Total Gameplays : <span class="gameViewColor">{{gamePlays}} </span></h6>
      </div>
      <div class="col-sm-12 gameCreated">
        <h6>Created On :  <span class="gameViewColor">{{createdOn | date : 'medium' }} </span></h6>
      </div>
      <div class="col-sm-12 gameCreated">
        <h6>Total Favorites :  <span class="gameViewColor">{{favouritedGames}} </span></h6>
      </div>
      <div class="col-sm-12 gameCreated">
        <h6>Game Added To Playlists :  <span class="gameViewColor">{{playlistGames}} </span></h6>
      </div>
      <div class="col-sm-12 gameCreated">
        <h6>Avg. Ratings :  <span class="gameViewColor">{{rating}} </span></h6>
      </div>
    </div>
  </div>
</ng-template>

<ngx-spinner bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#ffbd00" type="ball-clip-rotate-multiple"
  [fullScreen]="true">
  <p style="color: white"> Loading... </p>
</ngx-spinner>
